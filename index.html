<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskIt!</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ุจููุฉ ุงูุฃููุงุท ููุง ูู */
    </style>
</head>
<body>
    <div class="container">
        <h1>!TaskIt ๐</h1>
        <div class="site-info">
            ูุฑุญุจูุง ุจู ูู !TaskIt. ููููู ุฅุถุงูุฉ ููุงู ุฌุฏูุฏุฉุ ูุชุนุฏูููุง ุฃู ุญุฐููุง ุจุณูููุฉ. "ุฌููุน ุงูููุงู ุชุญูุธ ุชููุงุฆููุง ุญุชู ุจุนุฏ ุฅุบูุงู ุงููุชุตูุญ".
        </div>
        <form id="task-form">
            <input type="text" id="task-input" placeholder="ุฃุถู ูููุฉ ุฌุฏูุฏุฉ..." required>
            <button type="submit">ุฅุถุงูุฉ</button>
        </form>
        <ul id="task-list"></ul>
    </div>

    <footer>
        Dev By Hayder-Show
    </footer>

    <script>
        function getCurrentDate() {
            const today = new Date();
            const day = today.getDate().toString().padStart(2, '0');
            const month = (today.getMonth() + 1).toString().padStart(2, '0');
            const year = today.getFullYear();
            return `${day}-${month}-${year}`;
        }

        const taskForm = document.getElementById('task-form');
        const taskInput = document.getElementById('task-input');
        const taskList = document.getElementById('task-list');

        let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        tasks.forEach(task => addTaskToDOM(task.text, task.date, task.id));

        taskForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const taskText = taskInput.value.trim();

            if (taskText !== '') {
                const taskDate = getCurrentDate();
                const taskId = Date.now();

                addTaskToDOM(taskText, taskDate, taskId);
                saveTaskToLocalStorage(taskText, taskDate, taskId);
                taskInput.value = '';
            }
        });

        function addTaskToDOM(taskText, taskDate, taskId) {
            const li = document.createElement('li');
            const taskTextSpan = document.createElement('span');
            taskTextSpan.classList.add('task-text');
            taskTextSpan.textContent = taskText;

            const taskDateSpan = document.createElement('span');
            taskDateSpan.classList.add('task-date');
            taskDateSpan.textContent = `ุชุงุฑูุฎ: ${taskDate}`;

            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'ุญุฐู';
            deleteButton.addEventListener('click', function () {
                li.remove();
                removeTaskFromLocalStorage(taskId);
            });

            const editButton = document.createElement('button');
            editButton.textContent = 'ุชุนุฏูู';
            editButton.addEventListener('click', function () {
                taskInput.value = taskText;
                removeTaskFromLocalStorage(taskId);
                li.remove();
            });

            li.appendChild(taskTextSpan);
            li.appendChild(taskDateSpan);
            li.appendChild(editButton);
            li.appendChild(deleteButton);
            taskList.appendChild(li);
        }

        function saveTaskToLocalStorage(taskText, taskDate, taskId) {
            const task = { text: taskText, date: taskDate, id: taskId };
            tasks.push(task);
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }

        function removeTaskFromLocalStorage(taskId) {
            tasks = tasks.filter(task => task.id !== taskId);
            localStorage.setItem('tasks', JSON.stringify(tasks));
        }
    </script>
</body>
</html>
